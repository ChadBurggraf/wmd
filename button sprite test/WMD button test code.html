<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
 <title>Test code for WMD CSS image sprite buttons</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <link rel="stylesheet" type="text/css" href="wmd-button-test.css" />
</head>

<body>
 
 	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	
 <div id="wmd-button-bar"></div>
 <div id="wmd-editor">WMD editor stuff goes here</div>
 
 <script type="text/javascript">
 	
 	var buttonBar = document.getElementById("wmd-button-bar");
 	
 	var normalYShift = "0px";
 	var disabledYShift = "-20px";
 	var highlightYShift = "-40px";
 	
 	var buttonRow = document.createElement("ul");
 	buttonRow.id = "wmd-button-row";
 	buttonRow = buttonBar.appendChild(buttonRow);

 	
 	var boldButton = document.createElement("li");
 	boldButton.className = "wmd-button";
 	boldButton.id = "wmd-bold-button";
 	boldButton.title = "Bold";
 	boldButton.XShift = "0px";
 	buttonRow.appendChild(boldButton);
 	
 	var italicButton = document.createElement("li");
 	italicButton.className = "wmd-button";
 	italicButton.id = "wmd-italic-button";
 	italicButton.title = "Italic";
 	italicButton.XShift = "-20px";
 	buttonRow.appendChild(italicButton);

 	var spacer1 = document.createElement("li");
 	spacer1.className = "wmd-spacer";
 	spacer1.id = "wmd-spacer1";
 	buttonRow.appendChild(spacer1); 

 	var linkButton = document.createElement("li");
 	linkButton.className = "wmd-button";
 	linkButton.id = "wmd-link-button";
 	linkButton.title = "Hyperlink";
 	linkButton.XShift = "-40px";
 	buttonRow.appendChild(linkButton);

 	var quoteButton = document.createElement("li");
 	quoteButton.className = "wmd-button";
 	quoteButton.id = "wmd-quote-button";
 	quoteButton.title = "Blockquote";
 	quoteButton.XShift = "-60px";
 	buttonRow.appendChild(quoteButton);
 	
 	var codeButton = document.createElement("li");
 	codeButton.className = "wmd-button";
 	codeButton.id = "wmd-code-button";
 	codeButton.title = "Code";
 	codeButton.XShift = "-80px";
 	buttonRow.appendChild(codeButton);

 	var imageButton = document.createElement("li");
 	imageButton.className = "wmd-button";
 	imageButton.id = "wmd-image-button";
 	imageButton.title = "Image";
 	imageButton.XShift = "-100px";
 	buttonRow.appendChild(imageButton);

 	var spacer2 = document.createElement("li");
 	spacer2.className = "wmd-spacer";
 	spacer2.id = "wmd-spacer2";
 	buttonRow.appendChild(spacer2); 

 	var olistButton = document.createElement("li");
 	olistButton.className = "wmd-button";
 	olistButton.id = "wmd-olist-button";
 	olistButton.title = "Bulleted list";
 	olistButton.XShift = "-120px";
 	buttonRow.appendChild(olistButton);
 	
 	var ulistButton = document.createElement("li");
 	ulistButton.className = "wmd-button";
 	ulistButton.id = "wmd-ulist-button";
 	ulistButton.title = "Numbered list";
 	ulistButton.XShift = "-140px";
 	buttonRow.appendChild(ulistButton);
 	
 	var headingButton = document.createElement("li");
 	headingButton.className = "wmd-button";
 	headingButton.id = "wmd-heading-button";
 	headingButton.title = "Heading";
 	headingButton.XShift = "-160px";
 	buttonRow.appendChild(headingButton); 
 	
 	var hrButton = document.createElement("li");
 	hrButton.className = "wmd-button";
 	hrButton.id = "wmd-hr-button";
 	hrButton.title = "Horizontal rule";
 	hrButton.XShift = "-180px";
 	buttonRow.appendChild(hrButton); 
 	
 	var spacer3 = document.createElement("li");
 	spacer3.className = "wmd-spacer";
 	spacer3.id = "wmd-spacer3";
 	buttonRow.appendChild(spacer3); 
 	
 	var undoButton = document.createElement("li");
 	undoButton.className = "wmd-button";
 	undoButton.id = "wmd-undo-button";
 	undoButton.title = "Undo";
 	undoButton.XShift = "-200px";
 	buttonRow.appendChild(undoButton); 
 	
 	var redoButton = document.createElement("li");
 	redoButton.className = "wmd-button";
 	redoButton.id = "wmd-redo-button";
 	redoButton.title = "Redo";
 	redoButton.XShift = "-220px";
 	buttonRow.appendChild(redoButton); 
 	
 	var helpButton = document.createElement("li");
 	helpButton.className = "wmd-button";
 	helpButton.id = "wmd-help-button";
 	helpButton.title = "Help";
 	helpButton.XShift = "-240px";
 	buttonRow.appendChild(helpButton);
 	
 	
 	// Add onclick event handling to buttons.
 	var buttons = document.getElementsByTagName("li");
 	for (var i = 0; i < buttons.length; i++) {
		
  	var btn = buttons[i];
   	
  	if (btn.className === "wmd-button") {
   		
   		// Demonstrates button-specific code.
   		btn.onclick = function(){
   			window.alert(this.getAttribute("id"));
   		}
   		
   		btn.onmouseover = function(){
   			this.style.backgroundPosition = this.XShift + " " + highlightYShift;
			};
				
			btn.onmouseout = function(){
				this.style.backgroundPosition = this.XShift + " " + normalYShift;
			};
   	}
	}
	
	// Need to read and store the x value at button creation.
	// Should also store the two offsets (-20 and -40) as constants at the top
	// instead of as magic numbers.
	undoButton.style.backgroundPosition = undoButton.XShift + " " + disabledYShift;
	redoButton.style.backgroundPosition = redoButton.XShift + " " + disabledYShift;

	
 	undoButton.onmouseover = undoButton.onmouseout = undoButton.onclick = null;
 	redoButton.onmouseover = redoButton.onmouseout = redoButton.onclick = null;
 	
 </script>	
</body>
</html>